<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Philosophy · EnergyModelsRecedingHorizon</title><meta name="title" content="Philosophy · EnergyModelsRecedingHorizon"/><meta property="og:title" content="Philosophy · EnergyModelsRecedingHorizon"/><meta property="twitter:title" content="Philosophy · EnergyModelsRecedingHorizon"/><meta name="description" content="Documentation for EnergyModelsRecedingHorizon."/><meta property="og:description" content="Documentation for EnergyModelsRecedingHorizon."/><meta property="twitter:description" content="Documentation for EnergyModelsRecedingHorizon."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">EnergyModelsRecedingHorizon</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../quick-start/">Quick Start</a></li><li class="is-active"><a class="tocitem" href>Philosophy</a><ul class="internal"><li><a class="tocitem" href="#man-phil-rechor"><span>What is a receding horizon?</span></a></li><li><a class="tocitem" href="#man-phil-hortyp"><span>Types of horizons</span></a></li><li><a class="tocitem" href="#man-phil-func"><span>Functionalities for receding horizon optimization</span></a></li><li><a class="tocitem" href="#man-phil-when"><span>When should you use the package?</span></a></li></ul></li><li><a class="tocitem" href="../future_value/">Future value</a></li><li><a class="tocitem" href="../simple-example/">Example</a></li><li><a class="tocitem" href="../NEWS/">Release notes</a></li></ul></li><li><span class="tocitem">How to</span><ul><li><a class="tocitem" href="../../how-to/adapt-emx-elem/">Adapt an EMX element</a></li><li><a class="tocitem" href="../../how-to/use-emrh/">Use the package</a></li></ul></li><li><span class="tocitem">Developer notes</span><ul><li><a class="tocitem" href="../../dev-notes/code-structure/">Code structure</a></li><li><a class="tocitem" href="../../dev-notes/initialization/">Problem initialization</a></li><li><a class="tocitem" href="../../dev-notes/future_value/">Future value implementation</a></li></ul></li><li><span class="tocitem">Library</span><ul><li><a class="tocitem" href="../../library/public/">Public</a></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">Internals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../library/internals/types-EMRH/">Types</a></li><li><a class="tocitem" href="../../library/internals/methods-EMRH/">Methods - Internal</a></li><li><a class="tocitem" href="../../library/internals/methods-EMB/">Methods - <code>EnergyModelsBase</code></a></li><li><a class="tocitem" href="../../library/internals/reset/">Resetting functionality</a></li><li><a class="tocitem" href="../../library/internals/reference-EMGExt/">Internals - EnergyModelsGeography extension</a></li><li><a class="tocitem" href="../../library/internals/reference-POIExt/">Internals - ParametricOptInterface extension</a></li></ul></li></ul></li><li><a class="tocitem" href="../../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Philosophy</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Philosophy</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/main/docs/src/manual/philosophy.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="man-phil"><a class="docs-heading-anchor" href="#man-phil">Philosophy</a><a id="man-phil-1"></a><a class="docs-heading-anchor-permalink" href="#man-phil" title="Permalink"></a></h1><h2 id="man-phil-rechor"><a class="docs-heading-anchor" href="#man-phil-rechor">What is a receding horizon?</a><a id="man-phil-rechor-1"></a><a class="docs-heading-anchor-permalink" href="#man-phil-rechor" title="Permalink"></a></h2><p>Receding horizon refers to a method for solving dynamic optimization problems where smaller dynamic optimization problems are solved repeatedly over changing horizons, which are updated based on previous solutions and new observations. It is inspired by <em>model predictive control</em> (MPC), also known as receding horizon control [<a href="../../references/#mattingley2011receding">1</a>], where a control problem is defined by a dynamic optimization problem. This problem is solved for a finite time horizon, the first calculated control action is implemented in the system, and a new dynamic optimization problem is formulated based on the new state of the system after implementing the control actions.</p><p>Here, we use the receding horizon concept to reduce the complexity of a full-scale optimization problem into smaller subproblems. Each subproblem is solved over a finite time horizon (here denoted <em>optimization horizon</em>). The solution for this subproblem is stored for a usually smaller time horizon (here denoted <em>implementation horizon</em>), and the next subproblem is posed to begin at the end of this implementation horizon, see illustration below. Note that the individual operational periods do not need to have the same length.</p><p><img src="../../figures/receding-horizon.svg" alt="Illustration of receding horizon"/></p><p>This package is an extension of the core EnergyModelsBase structure, and therefore it follows the same principles of flexibility, extendability, and transparency (see the <em><a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/manual/philosophy/#man-phil-gen">EnergyModelsBase page</a></em> on its philosophy).</p><h2 id="man-phil-hortyp"><a class="docs-heading-anchor" href="#man-phil-hortyp">Types of horizons</a><a id="man-phil-hortyp-1"></a><a class="docs-heading-anchor-permalink" href="#man-phil-hortyp" title="Permalink"></a></h2><p>This package is based on setting up optimization subproblems given implementation and optimization horizons, as described above. How these horizons are defined and updated will dictate the behavior of the receding horizon solver. The behavior of these horizons is considered as an abstract type <a href="../../library/internals/types-EMRH/#EnergyModelsRecedingHorizon.AbstractHorizons"><code>AbstractHorizons</code></a>, allowing for common treatment of these approaches. Two horizon types are provided with <code>EnergyModelsRecedingHorizon</code>, as subtypes of <a href="../../library/internals/types-EMRH/#EnergyModelsRecedingHorizon.AbstractHorizons"><code>AbstractHorizons</code></a>:</p><ul><li><p><a href="../../library/public/#EnergyModelsRecedingHorizon.PeriodHorizons"><code>PeriodHorizons</code></a>: the original time structure is partitioned according to the number of operational periods. This means that each implementation and optimization horizons are of the same length across the optimization subproblems.</p></li><li><p><a href="../../library/public/#EnergyModelsRecedingHorizon.DurationHorizons"><code>DurationHorizons</code></a>: the original time structure is partitioned according to the duration of the operational periods. This means that each implementation and optimization horizons may have varying length across the optimization subproblems. Because the model processes an integer number of operational periods at any given iteration, the duration of each implementation and optimization horizon may be slightly bigger than pre-defined.</p></li></ul><h2 id="man-phil-func"><a class="docs-heading-anchor" href="#man-phil-func">Functionalities for receding horizon optimization</a><a id="man-phil-func-1"></a><a class="docs-heading-anchor-permalink" href="#man-phil-func" title="Permalink"></a></h2><p>To solve optimization problems in a receding horizon framework, additional functionalities must be present in the problem. These functionalities are implemented and are compatible with elements introduced in <a href="https://energymodelsx.github.io/EnergyModelsBase.jl"><code>EnergyModelsBase</code></a> and <a href="https://github.com/EnergyModelsX/EnergyModelsGeography.jl"><code>EnergyModelsGeography</code></a>.</p><h3 id="man-phil-func-init"><a class="docs-heading-anchor" href="#man-phil-func-init">Initialization of elements</a><a id="man-phil-func-init-1"></a><a class="docs-heading-anchor-permalink" href="#man-phil-func-init" title="Permalink"></a></h3><p>As the optimization horizon moves forward in the receding horizon iterations, the initial states of the model must be updated. This is especially relevant for dynamic elements such as <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/nodes/#EnergyModelsBase.Storage"><code>Storage</code></a> nodes, where the state at a given time depends on previous operation. The basic functionality is implemented through <a href="../../library/public/#EnergyModelsRecedingHorizon.InitData"><code>InitData</code></a> objects. With it, one can define the value of the related model variables at the start of the current optimization horizon. These functionalities can be extended through additional subtypes of <a href="../../library/public/#EnergyModelsRecedingHorizon.AbstractInitData"><code>AbstractInitData</code></a>.</p><p>For more implementation details, see the developer notes section on <em><a href="../../dev-notes/initialization/#dev-init">initialization</a></em>.</p><h3 id="man-phil-func-fv"><a class="docs-heading-anchor" href="#man-phil-func-fv">Future value descriptions</a><a id="man-phil-func-fv-1"></a><a class="docs-heading-anchor-permalink" href="#man-phil-func-fv" title="Permalink"></a></h3><p>In some cases, it is necessary to use future value descriptions for dynamic states in receding horizon optimization. This is done to obtain solutions for the smaller problems that are compatible with the full-horizon behavior. The package provides two future value description. The first description (<a href="../../library/public/#EnergyModelsRecedingHorizon.StorageValueCuts"><code>StorageValueCuts</code></a>) is based on the concept of storage end values [<a href="../../references/#Aaslid2021">2</a>], which introduces penalties related to the value of the outgoing state at the end of each individual optimization problem. The second description (<a href="../../library/public/#EnergyModelsRecedingHorizon.TypeFutureValue"><code>TypeFutureValue</code></a>) assigns a cost contribution to the value of (a) variable(s) at the end of the implementation horizon for all instances of a type.</p><p>For a detailed description of this feature, refer to the section on the <em><a href="../future_value/#man-fv">Implementation of future values</a></em>. The implementation is furthermore explained in the <em><a href="../../dev-notes/future_value/#dev-fv">development notes</a></em></p><h2 id="man-phil-when"><a class="docs-heading-anchor" href="#man-phil-when">When should you use the package?</a><a id="man-phil-when-1"></a><a class="docs-heading-anchor-permalink" href="#man-phil-when" title="Permalink"></a></h2><p>The package is intended for use in complex optimization problems in which it is not feasible to model a complete operational horizon in a single optimization run. In these problems, the solution of smaller problems sequentially in time may allow tractability of the problem.</p><p>The package is implemented with focus on calculating supply-demand balances for systems in an operational time scale and does not support investment analysis. In addition, the calculation of operational costs for full periods is not yet implemented, although these can be calculated with the existing information.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../quick-start/">« Quick Start</a><a class="docs-footer-nextpage" href="../future_value/">Future value »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.2 on <span class="colophon-date" title="Tuesday 29 April 2025 06:53">Tuesday 29 April 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
