<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Public · EnergyModelsRecedingHorizon</title><meta name="title" content="Public · EnergyModelsRecedingHorizon"/><meta property="og:title" content="Public · EnergyModelsRecedingHorizon"/><meta property="twitter:title" content="Public · EnergyModelsRecedingHorizon"/><meta name="description" content="Documentation for EnergyModelsRecedingHorizon."/><meta property="og:description" content="Documentation for EnergyModelsRecedingHorizon."/><meta property="twitter:description" content="Documentation for EnergyModelsRecedingHorizon."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">EnergyModelsRecedingHorizon</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../../manual/quick-start/">Quick Start</a></li><li><a class="tocitem" href="../../manual/philosophy/">Philosophy</a></li><li><a class="tocitem" href="../../manual/future_value/">Future value</a></li><li><a class="tocitem" href="../../manual/simple-example/">Example</a></li><li><a class="tocitem" href="../../manual/NEWS/">Release notes</a></li></ul></li><li><span class="tocitem">How to</span><ul><li><a class="tocitem" href="../../how-to/adapt-emx-elem/">Adapt an EMX element</a></li><li><a class="tocitem" href="../../how-to/use-emrh/">Use the package</a></li></ul></li><li><span class="tocitem">Developer notes</span><ul><li><a class="tocitem" href="../../dev-notes/code-structure/">Code structure</a></li><li><a class="tocitem" href="../../dev-notes/initialization/">Problem initialization</a></li><li><a class="tocitem" href="../../dev-notes/future_value/">Future value implementation</a></li></ul></li><li><span class="tocitem">Library</span><ul><li class="is-active"><a class="tocitem" href>Public</a><ul class="internal"><li><a class="tocitem" href="#lib-pub-idx"><span>Index</span></a></li><li><a class="tocitem" href="#lib-pub-module"><span>Module</span></a></li><li><a class="tocitem" href="#lib-pub-mod"><span>Model</span></a></li><li><a class="tocitem" href="#lib-pub-hor"><span>Horizon</span></a></li><li><a class="tocitem" href="#lib-pub-init"><span>Initialization</span></a></li><li><a class="tocitem" href="#lib-pub-fut_val"><span>Future value</span></a></li><li><a class="tocitem" href="#lib-pub-misc"><span>Miscellaneous</span></a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">Internals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../internals/types-EMRH/">Types</a></li><li><a class="tocitem" href="../internals/methods-EMRH/">Methods - Internal</a></li><li><a class="tocitem" href="../internals/methods-EMB/">Methods - <code>EnergyModelsBase</code></a></li><li><a class="tocitem" href="../internals/reset/">Resetting functionality</a></li><li><a class="tocitem" href="../internals/reference-EMGExt/">Internals - EnergyModelsGeography extension</a></li><li><a class="tocitem" href="../internals/reference-POIExt/">Internals - ParametricOptInterface extension</a></li></ul></li></ul></li><li><a class="tocitem" href="../../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Library</a></li><li class="is-active"><a href>Public</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Public</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/main/docs/src/library/public.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="lib-pub"><a class="docs-heading-anchor" href="#lib-pub">Public</a><a id="lib-pub-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub" title="Permalink"></a></h1><h2 id="lib-pub-idx"><a class="docs-heading-anchor" href="#lib-pub-idx">Index</a><a id="lib-pub-idx-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-idx" title="Permalink"></a></h2><ul><li><a href="#EnergyModelsRecedingHorizon"><code>EnergyModelsRecedingHorizon</code></a></li><li><a href="#EnergyModelsRecedingHorizon.AbstractInitData"><code>EnergyModelsRecedingHorizon.AbstractInitData</code></a></li><li><a href="#EnergyModelsRecedingHorizon.DurationHorizons"><code>EnergyModelsRecedingHorizon.DurationHorizons</code></a></li><li><a href="#EnergyModelsRecedingHorizon.ElementValue"><code>EnergyModelsRecedingHorizon.ElementValue</code></a></li><li><a href="#EnergyModelsRecedingHorizon.FutureValue"><code>EnergyModelsRecedingHorizon.FutureValue</code></a></li><li><a href="#EnergyModelsRecedingHorizon.InitData"><code>EnergyModelsRecedingHorizon.InitData</code></a></li><li><a href="#EnergyModelsRecedingHorizon.PeriodHorizons"><code>EnergyModelsRecedingHorizon.PeriodHorizons</code></a></li><li><a href="#EnergyModelsRecedingHorizon.RecHorOperationalModel"><code>EnergyModelsRecedingHorizon.RecHorOperationalModel</code></a></li><li><a href="#EnergyModelsRecedingHorizon.RecedingAccumulating"><code>EnergyModelsRecedingHorizon.RecedingAccumulating</code></a></li><li><a href="#EnergyModelsRecedingHorizon.StorageValueCut"><code>EnergyModelsRecedingHorizon.StorageValueCut</code></a></li><li><a href="#EnergyModelsRecedingHorizon.StorageValueCuts"><code>EnergyModelsRecedingHorizon.StorageValueCuts</code></a></li><li><a href="#EnergyModelsRecedingHorizon.TypeFutureValue"><code>EnergyModelsRecedingHorizon.TypeFutureValue</code></a></li><li><a href="#EnergyModelsRecedingHorizon.StorageInitData"><code>EnergyModelsRecedingHorizon.StorageInitData</code></a></li><li><a href="#EnergyModelsRecedingHorizon.data_init-Tuple{EnergyModelsBase.Node}"><code>EnergyModelsRecedingHorizon.data_init</code></a></li><li><a href="#EnergyModelsRecedingHorizon.durations"><code>EnergyModelsRecedingHorizon.durations</code></a></li><li><a href="#EnergyModelsRecedingHorizon.get_future_value"><code>EnergyModelsRecedingHorizon.get_future_value</code></a></li><li><a href="#EnergyModelsRecedingHorizon.has_cuts"><code>EnergyModelsRecedingHorizon.has_cuts</code></a></li><li><a href="#EnergyModelsRecedingHorizon.has_init-Tuple{EnergyModelsBase.Node}"><code>EnergyModelsRecedingHorizon.has_init</code></a></li><li><a href="#EnergyModelsRecedingHorizon.indices_implementation"><code>EnergyModelsRecedingHorizon.indices_implementation</code></a></li><li><a href="#EnergyModelsRecedingHorizon.indices_optimization"><code>EnergyModelsRecedingHorizon.indices_optimization</code></a></li><li><a href="#EnergyModelsRecedingHorizon.is_init_data"><code>EnergyModelsRecedingHorizon.is_init_data</code></a></li><li><a href="#EnergyModelsRecedingHorizon.run_model_rh-Tuple{AbstractCase, EnergyModelsRecedingHorizon.RecHorEnergyModel, Any}"><code>EnergyModelsRecedingHorizon.run_model_rh</code></a></li></ul><h2 id="lib-pub-module"><a class="docs-heading-anchor" href="#lib-pub-module">Module</a><a id="lib-pub-module-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-module" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon" href="#EnergyModelsRecedingHorizon"><code>EnergyModelsRecedingHorizon</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Main module for <code>EnergyModelsRecedingHorizon</code>, a package that extends <a href="https://github.com/EnergyModelsX"><code>EnergyModelsX</code></a> with the implementation of a receding horizon framework for stress testing the invested energy system in an operational framework.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/EnergyModelsRecedingHorizon.jl#L1-L5">source</a></section></article><h2 id="lib-pub-mod"><a class="docs-heading-anchor" href="#lib-pub-mod">Model</a><a id="lib-pub-mod-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-mod" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.RecHorOperationalModel" href="#EnergyModelsRecedingHorizon.RecHorOperationalModel"><code>EnergyModelsRecedingHorizon.RecHorOperationalModel</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct RecHorOperationalModel &lt;: RecHorEnergyModel</code></pre><p>Operational energy model without investments, receding horizon implementation.</p><p><strong>Fields</strong></p><ul><li><p><strong><code>emission_limit::Dict{&lt;:ResourceEmit, &lt;:TimeProfile}</code></strong> is a dictionary with individual emission limits as <code>TimeProfile</code> for each emission resource <code>ResourceEmit</code>.</p></li><li><p><strong><code>emission_price::Dict{&lt;:ResourceEmit, &lt;:TimeProfile}</code></strong> are the prices for the different emissions types considered.</p></li><li><p><strong><code>co2_instance</code></strong> is a <code>ResourceEmit</code> and corresponds to the type used for CO₂.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/model.jl#L9-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.run_model_rh-Tuple{AbstractCase, EnergyModelsRecedingHorizon.RecHorEnergyModel, Any}" href="#EnergyModelsRecedingHorizon.run_model_rh-Tuple{AbstractCase, EnergyModelsRecedingHorizon.RecHorEnergyModel, Any}"><code>EnergyModelsRecedingHorizon.run_model_rh</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">run_model_rh(case::AbstractCase, model::RecHorEnergyModel, optimizer; check_timeprofiles::Bool=true)</code></pre><p>Take the variables <code>case</code> and <code>model</code> and optimize the problem in a receding horizon fashion as a series of optimization problems.</p><div class="admonition is-warning"><header class="admonition-header">Required input</header><div class="admonition-body"><p>While the <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/case_element/#EnergyModelsBase.Case"><code>Case</code></a> type is flexible, we have to follow certain structures.</p><ul><li><p>The <code>case</code> type requires as additional input in the dictionary field <code>misc</code> the entry <code>:horizons</code> corresponding to an <a href="../internals/types-EMRH/#EnergyModelsRecedingHorizon.AbstractHorizons"><code>AbstractHorizons</code></a> type.</p></li><li><p>The order of the individual elements vector in the field <code>elements</code> cannot be arbitrary at the moment due to the structure of the code. You <strong>must</strong> use the following order:</p><ol><li><code>Vector{&lt;:EMB.Node}</code></li><li><code>Vector{&lt;:Link}</code></li><li><code>Vector{&lt;:Area}</code></li><li><code>Vector{&lt;:Transmission}</code></li></ol><p>If you do not use this structure, the model will not run.</p></li></ul></div></div><p>Returns <code>results</code> as a dataframe indexed by the model variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/model.jl#L2-L25">source</a></section></article><h2 id="lib-pub-hor"><a class="docs-heading-anchor" href="#lib-pub-hor">Horizon</a><a id="lib-pub-hor-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-hor" title="Permalink"></a></h2><h3 id="lib-pub-hor-typ"><a class="docs-heading-anchor" href="#lib-pub-hor-typ">Types</a><a id="lib-pub-hor-typ-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-hor-typ" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.DurationHorizons" href="#EnergyModelsRecedingHorizon.DurationHorizons"><code>EnergyModelsRecedingHorizon.DurationHorizons</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">DurationHorizons{T} &lt;: AbstractHorizons{T}</code></pre><p>Type used for specifiying the optimization and implementation horizon of a receding horizon model as the duration of the horizons. This implies that the number of operational periods in the different iterations can vary.</p><p>Iterating a <code>DurationHorizons</code> results in <code>SingleHorizon</code> which includes all information required for a single run.</p><p><strong>Fields</strong></p><ul><li><strong><code>len::Int64</code></strong> is the total length of the investigated timeframe as a multiple of the duration of 1 of an operational period.</li><li><strong><code>dur::Vector{T}</code></strong> is a vector of the duration of each individual operational period.</li><li><strong><code>optim::Int64</code></strong> is the sum of the <strong><em>duration</em></strong> of the operational periods that are used in the <strong><em>optimization</em></strong> horizon.</li><li><strong><code>impl::Int64</code></strong> is the sum of the <strong><em>duration</em></strong> of the operational periods that are used in the <strong><em>implementation</em></strong> horizon.</li></ul><div class="admonition is-info"><header class="admonition-header">Optimization and implementation horizon</header><div class="admonition-body"><p>The optimization horizon corresponds to the horizon used in each individual optimization run while the implementation horizon must be shorter than the optimization horizon. This is enforced through an inner constructor. It corresponds to the operational periods extracted from the model run.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/horizons.jl#L109-L133">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.PeriodHorizons" href="#EnergyModelsRecedingHorizon.PeriodHorizons"><code>EnergyModelsRecedingHorizon.PeriodHorizons</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PeriodHorizons{T} &lt;: AbstractHorizons{T}</code></pre><p>Type used for specifiying the optimization and implementation horizon of a receding horizon model as multiples of the number of periods.</p><p>Iterating a <code>PeriodHorizons</code> results in <code>SingleHorizon</code> which includes all information required for a single run.</p><p><strong>Fields</strong></p><ul><li><strong><code>len::Int64</code></strong> is the total length of the investigated timeframe as a multiple of the duration of 1 of an operational period.</li><li><strong><code>dur::Vector{T}</code></strong> is a vector of the duration of each individual operational period.</li><li><strong><code>optim::Int64</code></strong> is the <strong><em>number</em></strong> of operational periods that are used in the <strong><em>optimization</em></strong> horizon.</li><li><strong><code>impl::Int64</code></strong> is the <strong><em>number</em></strong> of operational periods that are used in the <strong><em>implementation</em></strong> horizon.</li></ul><div class="admonition is-info"><header class="admonition-header">Optimization and implementation horizon</header><div class="admonition-body"><p>The optimization horizon corresponds to the horizon used in each individual optimization run while the implementation horizon must be shorter than the optimization horizon. This is enforced through an inner constructor. It corresponds to the operational periods extracted from the model run.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/horizons.jl#L28-L51">source</a></section></article><h3 id="lib-pub-hor-fcn"><a class="docs-heading-anchor" href="#lib-pub-hor-fcn">Functions</a><a id="lib-pub-hor-fcn-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-hor-fcn" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.durations" href="#EnergyModelsRecedingHorizon.durations"><code>EnergyModelsRecedingHorizon.durations</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">durations(single_hor::SingleHorizon)</code></pre><p>Extracts the fiels <code>dur</code> from the <code>SingleHorizon</code> <code>single_hor</code> corresponding to a vector of the durations of the individual time periods.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/horizons.jl#L253-L258">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.indices_optimization" href="#EnergyModelsRecedingHorizon.indices_optimization"><code>EnergyModelsRecedingHorizon.indices_optimization</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">indices_optimization(single_hor::SingleHorizon)</code></pre><p>Extracts the fiels <code>idx_optim</code> from the <code>SingleHorizon</code> <code>single_hor</code> corresponding to a vector of the indices of the <strong><em>optimization</em></strong> horizon.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/horizons.jl#L261-L266">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.indices_implementation" href="#EnergyModelsRecedingHorizon.indices_implementation"><code>EnergyModelsRecedingHorizon.indices_implementation</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">indices_implementation(single_hor::SingleHorizon)</code></pre><p>Extracts the fiels <code>idx_impl</code> from the <code>SingleHorizon</code> <code>single_hor</code> corresponding to a vector of the indices of the <strong><em>implementation</em></strong> horizon.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/horizons.jl#L269-L274">source</a></section></article><h2 id="lib-pub-init"><a class="docs-heading-anchor" href="#lib-pub-init">Initialization</a><a id="lib-pub-init-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-init" title="Permalink"></a></h2><h3 id="lib-pub-init-typ"><a class="docs-heading-anchor" href="#lib-pub-init-typ">Types</a><a id="lib-pub-init-typ-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-init-typ" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.AbstractInitData" href="#EnergyModelsRecedingHorizon.AbstractInitData"><code>EnergyModelsRecedingHorizon.AbstractInitData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractInitData &lt;: EMB.Data</code></pre><p>Abstract type for initialization data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/data.jl#L9-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.InitData" href="#EnergyModelsRecedingHorizon.InitData"><code>EnergyModelsRecedingHorizon.InitData</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct InitData{T} &lt;: AbstractInitData</code></pre><p>Initialization data type for the inclusion of initial data before the first horizon. The standard initialization data is using a single value for a given variable. Multiple variables can be initialized simultaneously.</p><p><strong>Fields</strong></p><ul><li><strong><code>init_val_dict::Dict{Symbol,T}</code></strong> is a dictionary with the variable symbol as key and the value in the beginning of the analysis as value.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/data.jl#L16-L26">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.StorageInitData" href="#EnergyModelsRecedingHorizon.StorageInitData"><code>EnergyModelsRecedingHorizon.StorageInitData</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">StorageInitData(val::Real)</code></pre><p>Constructor for providing initialization for <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/nodes/#EnergyModelsBase.Storage"><code>Storage</code></a> nodes. A <code>StorageInitData</code> must be provided for each <code>Storage</code> node.</p><p><strong>Arguments</strong></p><ul><li><strong><code>val::Real</code></strong>: initial value for storage level.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/data.jl#L33-L41">source</a></section></article><h3 id="lib-pub-init-fcn"><a class="docs-heading-anchor" href="#lib-pub-init-fcn">Functions</a><a id="lib-pub-init-fcn-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-init-fcn" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.has_init-Tuple{EnergyModelsBase.Node}" href="#EnergyModelsRecedingHorizon.has_init-Tuple{EnergyModelsBase.Node}"><code>EnergyModelsRecedingHorizon.has_init</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">has_init(n::EMB.Node)
has_init(l::Link)</code></pre><p>Checks whether the node <code>n</code> or link <code>l</code> has initialization data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/data.jl#L53-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.is_init_data" href="#EnergyModelsRecedingHorizon.is_init_data"><code>EnergyModelsRecedingHorizon.is_init_data</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_init_data(data)</code></pre><p>Checks whether the argument <code>data</code> has initialization settings.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/data.jl#L46-L50">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.data_init-Tuple{EnergyModelsBase.Node}" href="#EnergyModelsRecedingHorizon.data_init-Tuple{EnergyModelsBase.Node}"><code>EnergyModelsRecedingHorizon.data_init</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">data_init(n::EMB.Node)
data_init(l::Link)</code></pre><p>Returns initialization data for node <code>n</code> or link <code>l</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/data.jl#L62-L67">source</a></section></article><h2 id="lib-pub-fut_val"><a class="docs-heading-anchor" href="#lib-pub-fut_val">Future value</a><a id="lib-pub-fut_val-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-fut_val" title="Permalink"></a></h2><h3 id="lib-pub-fut_val-typ"><a class="docs-heading-anchor" href="#lib-pub-fut_val-typ">Types</a><a id="lib-pub-fut_val-typ-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-fut_val-typ" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.FutureValue" href="#EnergyModelsRecedingHorizon.FutureValue"><code>EnergyModelsRecedingHorizon.FutureValue</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type  FutureValue &lt;: AbstractElement</code></pre><p>Declaration of the abstract type for future value descriptions in the optimization.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/future_value.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.ElementValue" href="#EnergyModelsRecedingHorizon.ElementValue"><code>EnergyModelsRecedingHorizon.ElementValue</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ElementValue{T&lt;:Union{TimeProfile, Real}}</code></pre><p>An <code>ElementValue</code> represents an instance of a given <a href="https://energymodelsx.github.io/EnergyModelsBase.jl/stable/library/public/case_element/#EnergyModelsBase.AbstractElement"><code>AbstractElement</code></a> with an assigned value. It replaces dictionaries in which an <code>AbstractElement</code> is used as key value so that it is possible to reset the <code>AbstractElement</code></p><p><strong>Fields</strong></p><ul><li><strong><code>element::N</code></strong> is the instance of the element.</li><li><strong><code>value::T</code></strong> is the used value.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/future_value.jl#L9-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.StorageValueCuts" href="#EnergyModelsRecedingHorizon.StorageValueCuts"><code>EnergyModelsRecedingHorizon.StorageValueCuts</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct StorageValueCuts &lt;: FutureValue</code></pre><p>A collection of multiple <code>StorageValueCut</code> that constructs a piecewise linear upper bound on the future value of the stored resource.</p><p><strong>Fields</strong></p><ul><li><strong><code>id::Any</code></strong> is the name/identifier of the <code>StorageValueCuts</code>.</li><li><strong><code>time::Int</code></strong> is the time where the cut is valid relative to the start of the operational period.</li><li><strong><code>weight::Real</code></strong> is the weighting of the <code>StorageValueCuts</code> in the objective function. For example used if the end time of the optimization arrives between two different <code>StorageValueCuts</code>.</li><li><strong><code>time_weight::Real</code></strong> is the weighting of the <code>StorageValueCuts</code> in the objective function due to the elapsed time.</li><li><strong><code>cuts::Vector{StorageValueCut}</code></strong> is a vector of all the cuts that are included in the future value description.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/future_value.jl#L63-L80">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.StorageValueCut" href="#EnergyModelsRecedingHorizon.StorageValueCut"><code>EnergyModelsRecedingHorizon.StorageValueCut</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct StorageValueCut</code></pre><p>A <code>StorageValueCut</code> represents a cutting hyperplane that puts an upper bound on the value of the stored resource at the end of the optimization horizon.</p><p><strong>Fields</strong></p><ul><li><strong><code>id::Any</code></strong> is the name/identifier of the <code>StorageValueCut</code>.</li><li><strong><code>coeffs::Vector{&lt;:ElementValue}</code></strong> are the cut coefficients associated with the level of the given <code>Storage</code> nodes. They can also be provided as <code>Dict{&lt;:Storage{&lt;:Accumulating}, &lt;:Real}</code>.</li><li><strong><code>rhs::Real</code></strong> is the cut right hand side constant.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/future_value.jl#L26-L37">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.TypeFutureValue" href="#EnergyModelsRecedingHorizon.TypeFutureValue"><code>EnergyModelsRecedingHorizon.TypeFutureValue</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct TypeFutureValue &lt;: FutureValue
TypeFutureValue(element_type::Type{&lt;:AbstractElement}, key::Symbol, val::Real)</code></pre><p>A future value for a given nodal type and model key. It utilizes only the final value and directly adds it to the cost function for all instances of the given type.</p><p><strong>Fields</strong></p><ul><li><strong><code>element::Type{&lt;:AbstractElement}</code></strong> is the nodal type for which the future value applies.</li><li><strong><code>val_dict::Dict{Symbol, Real}</code></strong> is a dictionary for including the variables provided as keys with a given value for calculating the future value. It is important to consider the unit of the value.</li></ul><div class="admonition is-info"><header class="admonition-header">Single variable</header><div class="admonition-body"><p>The field <code>val_dict</code> can also be provided as key and value input, if only a single variable should be restricted</p></div></div><div class="admonition is-danger"><header class="admonition-header">Application of TypeFutureValue</header><div class="admonition-body"><p><code>TypeFutureValue</code> assigns a future value to all instances of a given type. It should <strong>never</strong> be used on reference nodes. It should only be used on dynamic variables for other node types.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/future_value.jl#L129-L150">source</a></section></article><h3 id="lib-pub-fut_val-fcn"><a class="docs-heading-anchor" href="#lib-pub-fut_val-fcn">Functions</a><a id="lib-pub-fut_val-fcn-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-fut_val-fcn" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.get_future_value" href="#EnergyModelsRecedingHorizon.get_future_value"><code>EnergyModelsRecedingHorizon.get_future_value</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_future_value(𝒳ᵛᵉᶜ::Vector{Vector})
get_future_value(case::Case)
get_future_value(𝒰::UpdateCase)</code></pre><p>Returns the vector of FutureValue of the Case <code>case</code> or the vector of elements vectors <code>𝒳ᵛᵉᶜ</code>.</p><p>If the input is an <a href="../internals/reset/#EnergyModelsRecedingHorizon.UpdateCase"><code>UpdateCase</code></a>, it returns the <strong>new</strong> <code>FutureValues</code>s of the individual <a href="../internals/reset/#EnergyModelsRecedingHorizon.FutureValueSub"><code>FutureValueSub</code></a> types of UpdateCase <code>𝒰</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/future_value.jl#L174-L183">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.has_cuts" href="#EnergyModelsRecedingHorizon.has_cuts"><code>EnergyModelsRecedingHorizon.has_cuts</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">has_cuts(v::FutureValue)
has_cuts(v::StorageValueCuts)</code></pre><p>Returns true if the <code>FutureValue</code> is of type <code>StorageValueCuts</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/future_value.jl#L120-L125">source</a></section></article><h2 id="lib-pub-misc"><a class="docs-heading-anchor" href="#lib-pub-misc">Miscellaneous</a><a id="lib-pub-misc-1"></a><a class="docs-heading-anchor-permalink" href="#lib-pub-misc" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="EnergyModelsRecedingHorizon.RecedingAccumulating" href="#EnergyModelsRecedingHorizon.RecedingAccumulating"><code>EnergyModelsRecedingHorizon.RecedingAccumulating</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct RecedingAccumulating &lt;: Accumulating</code></pre><p><code>StorageBehavior</code> which accumulates all inflow witin a strategic period. <code>RecedingAccumulating</code> allows for initializing level values for the storages.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/EnergyModelsX/EnergyModelsRecedingHorizon.jl/blob/daff1c156aca54b86ca321232d26fb829555ee5d/src/structures/data.jl#L1-L6">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../dev-notes/future_value/">« Future value implementation</a><a class="docs-footer-nextpage" href="../internals/types-EMRH/">Types »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.2 on <span class="colophon-date" title="Tuesday 29 April 2025 05:53">Tuesday 29 April 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
